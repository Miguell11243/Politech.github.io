<!DOCTYPE html>
<html lang="pt-br">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link rel="stylesheet" type="text/css" href="style.css" />
    <title>Segunda Pergunta</title>
  </head>
  <header>
    <div class="cabecalho">
      <h1>Pergunta 2 - <u>Turma Desenvolvimento de Sistemas 2°Ds</u></h1>
      <a href="menuInicial.html">
        <img
          class="casaIcone"
          src="https://img.icons8.com/ios7/600/FFFFFF/home.png"
          alt=""
          width="40px"
          height="40px"
        />
      </a>
    </div>
  </header>

  <body>
    <div class="boxPergunta">
      <h2 class="pergunta">Qual a função do atributo "<span>lang</span>" na tag < html > ?</h2>

      <button id="buttonShow" class="botoes item1">
        Define o idioma principal da página
      </button>
      <button class="botoesShow2">Define o tipo de conteúdo da pagina</button>
      <button class="botoesShow2 ">
        Especificar a linguagem usada no conteúdo da página.
      </button>
    </div>

    <div class="timer" id="timer">120</div>

    <dialog id="modalResposta" class="modal">
      <h2>Você tem certeza da sua resposta?</h2>
      <button class="buttonYes" data-page="fase3medio.html">Sim</button>
      <button class="buttonNo">Não</button>
    </dialog>

    <dialog id="modalErrado" class="modal">
      <h2>Você tem certeza da sua resposta?</h2>
      <button class="buttonYesWrong">Sim</button>
      <button class="buttonNo">Não</button>
    </dialog>

    <script>
      let timeLeft = 120;

      const timerElement = document.getElementById("timer");

      function updateTimer() {
        timerElement.textContent = timeLeft;

        timeLeft--;

        if (timeLeft < 0) {
          clearInterval(timerInterval);
           alert("Tempo Esgotado!!");
          timerElement.textContent = "Tempo esgotado!";
          window.location.replace ("paginaRespostaErrada.html");
        }
      }

      const timerInterval = setInterval(updateTimer, 1000);

      const buttonShow = document.querySelector("#buttonShow");
      const botoesShow2 = document.querySelectorAll(".botoesShow2");

      const modalResposta = document.querySelector("#modalResposta");
      const modalErrado = document.querySelector("#modalErrado");

      const buttonYes = document.querySelectorAll(".buttonYes");
      const buttonNo = document.querySelectorAll(".buttonNo");
      const buttonYesWrong = document.querySelectorAll(".buttonYesWrong");

      buttonShow.addEventListener("click", function () {
        modalResposta.showModal();
      });

      botoesShow2.forEach((button) => {
        button.addEventListener("click", function () {
          modalErrado.showModal();
        });
      });

      buttonNo.forEach((button) => {
        button.addEventListener("click", function () {
          if (modalResposta.open) {
            modalResposta.close();
          }
          if (modalErrado.open) {
            modalErrado.close();
          }
        });
      });
      buttonYes.forEach((button) => {
        button.addEventListener("click", function () {
          const targetPage = button.getAttribute("data-page");
          window.location.replace (targetPage);
        });
      });

      // Ação do botão "Sim" no modal de erro
      buttonYesWrong.forEach((buttonYesWrong) => {
        buttonYesWrong.addEventListener("click", function () {
          window.location.replace ("perdeu.html");
        });
      });
    </script>
  </body>
</html>
