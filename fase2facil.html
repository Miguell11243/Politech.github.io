<!DOCTYPE html>
<html lang="pt-br">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link rel="stylesheet" type="text/css" href="style.css" />
    <title>Segunda Pergunta</title>
  </head>
  <header>
    <div class="cabecalho">
      <h1>Pergunta 2 - <u>Turma Desenvolvimento de Sistemas 2°Ds</u></h1>
      <button class="botaoInicio" onclick="certezaInicio()">
        <img
          class="casaIcone"
          src="https://img.icons8.com/ios7/600/FFFFFF/home.png"
          alt=""
          width="40px"
          height="40px"
        />
      </button>
    </div>
  </header>

  <body>
    <div class="boxPergunta">
      <h2 class="pergunta">
        Qual a linguagem a seguir é usada para a <span>estilização</span>
      </h2>

      <button class="botoesErrado">JavaScript (Js)</button>
      <button class="botoesErrado">C Plus Plus (C ++)</button>
      <button id="buttonShow" class="botoes">
        Cascading Style Sheets (CSS)
      </button>
    </div>

    <div class="timer" id="timer">120</div>

    <dialog id="modal" class="modal">
      <h2>Você tem certeza da sua resposta?</h2>
      <button class="buttonYes" data-page="fase3facil.html">Sim</button>
      <button class="buttonNo">Não</button>
    </dialog>

    <dialog id="modalErrado" class="modal">
      <h2>Você tem certeza da sua resposta?</h2>
      <button class="buttonYesWrong">Sim</button>
      <button class="buttonNo">Não</button>
    </dialog>

    <script>
      let timeLeft = 120;

      const timerElement = document.getElementById("timer");

      function updateTimer() {
        timerElement.textContent = timeLeft;

        timeLeft--;

        if (timeLeft < 0) {
          clearInterval(timerInterval);
          alert("O tempo acabou c é burro");
          timerElement.textContent = "Tempo esgotado!";
          window.location.href = "paginaRespostaErrada.html";
        }
      }

      const timerInterval = setInterval(updateTimer, 1000);

      const buttonShow = document.querySelector("#buttonShow");
      const botoesErrado = document.querySelectorAll(".botoesErrado");

      const modalResposta = document.querySelector("#modal");
      const modalErrado = document.querySelector("#modalErrado");

      const buttonYes = document.querySelectorAll(".buttonYes");
      const buttonNo = document.querySelectorAll(".buttonNo");
      const buttonYesWrong = document.querySelectorAll(".buttonYesWrong");

      buttonShow.addEventListener("click", function () {
        modalResposta.showModal();
      });

      botoesErrado.forEach((button) => {
        button.addEventListener("click", function () {
          modalErrado.showModal();
        });
      });

      buttonNo.forEach((button) => {
        button.addEventListener("click", function () {
          if (modalResposta.open) {
            modalResposta.close();
          }
          if (modalErrado.open) {
            modalErrado.close();
          }
        });
      });

      buttonYes.forEach((button) => {
        button.addEventListener("click", function () {
          const targetPage = button.getAttribute("data-page");
          window.location.href = targetPage;
        });
      });

      buttonYesWrong.forEach((buttonYesWrong) => {
        buttonYesWrong.addEventListener("click", function () {
          window.location.href = "perdeu.html";
        });
      });
    </script>
  </body>
</html>
